{# Sidebar unificado - Partial reutilizable #}
<!-- Botón hamburguesa -->
<button
  class="sidebar-toggle"
  id="sidebarToggle"
  onclick="toggleSidebar()"
  aria-label="Abrir menú de navegación"
  aria-expanded="false"
  aria-controls="sidebar">
  <i class="fas fa-bars"></i>
</button>

<!-- Overlay para cerrar -->
<div class="sidebar-overlay" id="sidebarOverlay" onclick="closeSidebar()"></div>

<!-- Sidebar -->
<nav class="sidebar" id="sidebar" role="navigation" aria-label="Menú principal">
  <div class="sidebar-header">
    <h5>
      <i class="fas fa-microscope"></i>
      Sistema de Segmentación
    </h5>
  </div>

  <ul class="sidebar-menu">
    <!-- Nivel 1: Inicio -->
    <li class="sidebar-item {% if request.path == '/' or request.path == '/team' %}active{% endif %}">
      <a href="/" class="sidebar-link">
        <i class="fas fa-home"></i>
        <span>Inicio</span>
      </a>
    </li>

    <!-- Nivel 1: Dashboard General -->
    <li class="sidebar-item {% if request.path.startswith('/dashboard') %}active{% endif %}">
      <a href="/dashboard" class="sidebar-link">
        <i class="fas fa-th-large"></i>
        <span>Dashboard General</span>
      </a>
    </li>

    <!-- Nivel 1: Asignar Batches -->
    <li class="sidebar-item {% if request.path.startswith('/assign') or request.path.startswith('/batch-management') %}active{% endif %}">
      <a href="/assign" class="sidebar-link">
        <i class="fas fa-arrows-alt"></i>
        <span>Asignar Batches</span>
      </a>
    </li>

    <!-- Nivel 1: Máscaras -->
    <li class="sidebar-item {% if request.path.startswith('/masks') %}active{% endif %}">
      <a href="/masks" class="sidebar-link">
        <i class="fas fa-images"></i>
        <span>Máscaras</span>
      </a>
    </li>

    <!-- Nivel 1: Gestión de Datos -->
    <li class="sidebar-item {% if request.path.startswith('/data-management') %}active{% endif %}">
      <a href="/data-management" class="sidebar-link">
        <i class="fas fa-database"></i>
        <span>Gestión de Datos</span>
      </a>
    </li>

    <!-- Nivel 1: Métricas -->
    <li class="sidebar-item {% if request.path.startswith('/metrics') %}active{% endif %}">
      <a href="/metrics" class="sidebar-link">
        <i class="fas fa-chart-bar"></i>
        <span>Métricas</span>
      </a>
    </li>

    <!-- Nivel 1: Salir -->
    <li class="sidebar-item">
      <a href="/logout" class="sidebar-link" onclick="return confirm('¿Estás seguro de que quieres salir?');">
        <i class="fas fa-sign-out-alt"></i>
        <span>Salir</span>
      </a>
    </li>
  </ul>
</nav>
